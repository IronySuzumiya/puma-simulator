# Defines all the components needed by a node
# Tile, Network-on-Chip (NOC)

import sys
sys.path.insert (0, '/home/ankitaay/dpe/include')
import constants as param

# define an noc class - deals with data transfers between tiles
# 1. send_queue in each tile is a prt of noc
# 2. noc class here does the decoding part
class noc (object):

    def getLatency (self):
        return param.noc_latency_intranode

    def propagate (self, target_addr):
        print (target_addr)
        assert ((type(target_addr) == str) and \
                (len(target_addr) == param.num_bits_tileId + param.num_bits_nodeId)), \
                'target addr is invalid - check format and length'
        node_addr = int (target_addr[0:param.num_bits_nodeId])
        tile_addr = int (target_addr[param.num_bits_nodeId:])
        return [node_addr, tile_addr]

